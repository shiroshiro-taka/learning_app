<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>è§£ç­”è¦‹ç›´ã—: [[${exam.examName}]]</title>
<!-- Tailwind CSS CDNã‚’èª­ã¿è¾¼ã¿ -->
<script src="https://cdn.tailwindcss.com"></script>
<script>
    // Tailwindã®ã‚«ã‚¹ã‚¿ãƒ è¨­å®š (è©¦é¨“ç”»é¢ã¨å…±é€šåŒ–)
    tailwind.config = {
        theme: {
            extend: {
                colors: {
                    'primary-blue': '#1c55c8', // ãƒœã‚¿ãƒ³ã‚„ã‚¢ã‚¯ã‚»ãƒ³ãƒˆç”¨ã®é’
                    'primary-blue-hover': '#1747a5',
                    'success-green': '#10b981', // è§£ç­”æ¸ˆã¿ã®ç·‘
                    'error-red': '#ef4444',     // æœªè§£ç­”ã®èµ¤
                    'accent-yellow': '#facc15', // è¦‹ç›´ã—ãƒ•ãƒ©ã‚°ã®é»„è‰²
                    'dark-panel': '#2d3748',    // ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒ‘ãƒãƒ«ã®èƒŒæ™¯
                },
                fontFamily: {
                    sans: ['Inter', 'sans-serif'],
                },
            }
        }
    }
</script>
<style>
  /* è¦‹ç›´ã—ãƒ•ãƒ©ã‚°ä»˜ãã®ã‚«ãƒ¼ãƒ‰ã‚’å¼·èª¿ã™ã‚‹ãŸã‚ã®ã‚¹ã‚¿ã‚¤ãƒ« */
  .review-flag-on {
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.06);
    border-left: 6px solid #facc15; /* accent-yellow */
  }
</style>
</head>
<body class="bg-gray-50 min-h-screen">

    <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒŠ -->
    <div class="max-w-6xl mx-auto p-4 md:p-8">
        
        <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ã¨ã‚¿ã‚¤ãƒˆãƒ« -->
        <header class="mb-6 md:mb-8 border-b border-gray-200 pb-4">
            <h1 class="text-3xl md:text-4xl font-extrabold text-gray-800 mb-2">
                è§£ç­”è¦‹ç›´ã—: <span th:text="${exam.examName}"></span>
            </h1>
            <p class="text-gray-600">ä»¥ä¸‹ã®ãƒªã‚¹ãƒˆã‹ã‚‰å•é¡Œã‚’é¸æŠã—ã€å›ç­”ä¸­ã®å•é¡Œã«æˆ»ã£ã¦ç·¨é›†ã‚’ç¶šã‘ã¦ãã ã•ã„ã€‚</p>
        </header>

        <!-- ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ -->
        <a th:href="@{/exam/start/{examId}(examId=${exam.id}, questionId=${initialQuestionId})}" 
           class="back-to-exam-btn inline-block mb-8 px-6 py-3 bg-primary-blue text-white text-lg font-semibold rounded-lg shadow-md hover:bg-primary-blue-hover transition duration-200">
            &larr; å›ç­”ä¸­ã®å•é¡Œã«æˆ»ã‚‹
        </a>

        <!-- ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒªã‚¹ãƒˆã‚°ãƒªãƒƒãƒ‰ -->
        <div id="review-list" class="grid gap-4 md:gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4">
            
            <div th:each="dto : ${userAnswerDtoList}" 
                 class="review-item bg-white border border-gray-200 rounded-xl shadow-lg transition duration-200 hover:shadow-xl hover:scale-[1.01]" 
                 th:classappend="${dto.reviewFlag ? 'review-flag-on' : 'border-l-4 border-gray-200'}">
                
                <!-- ãƒªãƒ³ã‚¯å…¨ä½“ã‚’ã‚«ãƒ¼ãƒ‰å†…ã«è¨­å®š -->
                <a th:href="@{/exam/start/{examId}(examId=${exam.id}, questionId=${dto.questionId})}" 
                   class="p-5 block text-gray-700 hover:text-primary-blue">
                    
                    <div class="flex justify-between items-start mb-2">
                        <!-- å•é¡Œç•ªå· -->
                        <span class="text-2xl font-bold text-gray-800" th:text="'å•' + ${dto.questionNumber}">å•1</span>
                        
                        <!-- è¦‹ç›´ã—ãƒãƒ¼ã‚¯ -->
                        <span th:if="${dto.reviewFlag}" class="text-accent-yellow font-bold text-xl ml-2 flex items-center">
                            ğŸ“Œ
                        </span>
                    </div>

                    <!-- è§£ç­”çŠ¶æ³ -->
                    <p class="text-sm font-medium">
                        è§£ç­”çŠ¶æ³: 
                        <span th:classappend="${dto.answerStatus.name() == 'ANSWERED' ? 'text-success-green' : 'text-error-red'}" 
                              th:text="${dto.answerStatus.displayName}"
                              class="font-extrabold"></span>
                    </p>
                    
                </a>
                
            </div>
            
        </div>
        
    </div>
    
</body>
</html>